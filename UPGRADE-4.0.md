# Upgrade to MMi 4.0

## FrontController::class is no longer available:

### shortcut:
* FrontController::getInstance()->getView() => App::$di->get(\Mmi\Mvc\View::class)
* FrontController::getInstance()->getResponse() => App::$di->get(\Mmi\Http\Response::class)
* FrontController::getInstance()->getRequest() => App::$di->get(\Mmi\Http\Request::class)
* FrontController::getInstance()->getLogger() => App::$di->get(\Psr\Log\LoggerInterface::class)
* FrontController::getInstance()->getEnvironment() => App::$di->get(\Mmi\Http\Request::class)->getServer()
* ...note that you should be using "use" :) instead of FQN

### proper way:
* use dependency injection (see below)

## Registry::class is no longer available:

### shortcut:
* Registry::$auth               => App::$di->get(\Mmi\Security\AuthInterface::class)
* Registry::$cache              => App::$di->get(\Mmi\Cache\CacheInterface::class)
* Registry::$localCache         => App::$di->get(\Mmi\Cache\SystemCacheInterface::class)
* Registry::$db                 => App::$di->get(\Mmi\Db\DbInterface::class)
* Registry::$config->skinset    => App::$di->get(\Cms\App\CmsSkinsetConfig::class)
* ...note that you should be using "use" :) instead of FQN

* Registry::$config->others => no shortcuts - find and get proper value from the DI

### proper way:
* use dependency injection (see below)

## Commands 

Commands (CLI) MUST be placed inside module/Command/ and have "Command" suffix folder
(ie. Cms/Command/SomeCommand.php) and also extends \Mmi\Command\CommandAbstract:
* namespace Mmi\Console; => namespace Mmi\Command;
* Mmi\Console\CommandAbstract => \Mmi\Command\CommandAbstract

From now on there is no need to configure command (names and descriptions are autogenerated).
Commands are auto-named (by namespace and class name):
* db:deploy => Mmi:DbDeploy
* cms:cron:execute => Cms:CronExecute

## Others
* DbConnector::getAdapter() no longer available use directly DbInterface via DI
* DbConnector class is no longer available, use DbInformationInterface::class via DI
* Session class is no longer static, use SessionInterface::class via DI

## Using the Dependency Injection (DI):

DI config files should be named di.php, or di.something.php and placed in the module main folder
(ie. Cms/di.translate.php, User/di.services.php)
* DI implementation docs: https://php-di.org/doc/
